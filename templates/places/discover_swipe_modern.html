{% extends 'base.html' %}
{% load static %}
{% load math_filters %}

{% block title %}Swipe Keşfet - MekanKeşif{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'css/swipe_modern.css' %}">
<link rel="stylesheet" href="{% static 'css/swipe_rich.css' %}">
<style>
/* Critical inline styles - load immediately */
body.swipe-page,
body.swipe-page * {
    box-sizing: border-box;
}

body.swipe-page {
    background: linear-gradient(135deg, #0a0a0a 0%, #1a1a1a 100%) !important;
    color: #ffffff !important;
    overflow: hidden !important;
    margin: 0 !important;
    padding: 0 !important;
}

body.swipe-page .navbar,
body.swipe-page footer,
body.swipe-page nav,
body.swipe-page .navbar-collapse {
    display: none !important;
    visibility: hidden !important;
    height: 0 !important;
    margin: 0 !important;
    padding: 0 !important;
    overflow: hidden !important;
}

body.swipe-page .container {
    padding: 0 !important;
    margin: 0 !important;
    max-width: 100% !important;
    width: 100% !important;
}

body.swipe-page main {
    padding: 0 !important;
    margin: 0 !important;
}
</style>
{% endblock %}

{% block extra_js %}
<script src="{% static 'js/swipe_card_builder.js' %}"></script>
<script src="{% static 'js/swipe_modern.js' %}"></script>
{% endblock %}

{% block content %}
<!-- Global Overlays -->
<div class="overlay-like">LIKE</div>
<div class="overlay-nope">NOPE</div>
<div class="overlay-save">SAVE</div>

<!-- Back Button -->
<a href="{% url 'places:discover' %}" class="back-button" title="Geri Dön">
    <i class="bi bi-arrow-left"></i>
</a>

<div class="swipe-container">
    <div class="cards-stack" id="cardsStack">
        <!-- Cards will be loaded here -->
    </div>

    <!-- Action Buttons -->
    <div class="action-buttons" id="actionButtons" style="display: none;">
        <button class="action-btn btn-nope" onclick="swipeCard('dislike')" title="Beğenmedim">
            <i class="bi bi-x-lg"></i>
        </button>
        <button class="action-btn btn-save" onclick="swipeCard('save')" title="Kaydet">
            <i class="bi bi-bookmark"></i>
        </button>
        <button class="action-btn btn-detail" onclick="showDetail()" title="Detay">
            <i class="bi bi-info-circle"></i>
        </button>
        <button class="action-btn btn-like" onclick="swipeCard('like')" title="Beğendim">
            <i class="bi bi-heart"></i>
        </button>
    </div>
</div>
{% endblock %}
